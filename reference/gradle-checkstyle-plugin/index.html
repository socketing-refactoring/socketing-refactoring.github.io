<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>코드 분석 관련 Gradle Core Plugin: checkstyle, PMD, JaCoCo | Socketing Reactoring Dev Log</title>
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link rel="preload" href="https://fonts.googleapis.com/css?family=Open+Sans:400,700&display=swap" as="style" type="text/css" crossorigin>
    <meta name="theme-color" content="#157878">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <link rel="stylesheet" href="/assets/css/style.css?v=">
  </head>
  <body>
    <header class="page-header" role="banner">
      <h1 class="project-name"><a href="/" style="color: #fff">Socketing Reactoring Dev Log</a></h1>
      <h2 class="project-tagline">Socketing 프로젝트 리팩토링 과정을 기록합니다.</h2>
      <nav>
        <a class="btn" href="/">Home</a>
        <a class="btn" href="/tags/">Tags</a>
        <a class="btn" href="/categories/">Categories</a>
      </nav>
    </header>

    <main id="content" class="main-content" role="main">
      <article>
  <h1>코드 분석 관련 Gradle Core Plugin: checkstyle, PMD, JaCoCo</h1>
  <p>
    <small>
      📅 2025-04-21
       | 📂 카테고리: 
        
          <a href="/categories/reference/">Reference</a>
        
      
       | 🏷️ 태그: 
        
          <a href="/tags/java/">Java</a>, 
        
          <a href="/tags/gradle/">Gradle</a>, 
        
          <a href="/tags/spring-boot/">Spring boot</a>
        
      
    </small>
  </p>

  <div class="post-content">

    <div class="toc-wrapper">
      <div class="toc-container" id="tocContainer">
        <p>목차</p>
        <ul><li><a href="#배경">배경</a></li><li><a href="#checkstyle-플러그인">checkstyle 플러그인</a><ul><li><a href="#사용-방법">사용 방법</a></li><li><a href="#태스크">태스크</a></li></ul></li><li><a href="#프로젝트-레이아웃">프로젝트 레이아웃</a></li><li><a href="#의존성-관리">의존성 관리</a></li><li><a href="#설정">설정</a><ul><li><a href="#내장-변수">내장 변수</a></li></ul></li></ul></li><li><a href="#jacoco-플러그인">JaCoCo 플러그인</a><ul><li><a href="#시작하기">시작하기</a></li></ul></li></ul>
      </div>
      <button class="toc-toggle-btn" id="tocToggleBtn">더 보기</button>
    </div>

    <h2 id="배경">배경</h2>

<p>스프링 부트 프로젝트에 코드 스타일 검사 태스크를 사용하기 위해 Gralde 빌드 스크립트 <code class="language-plaintext highlighter-rouge">build.gradle.kts</code>에 <code class="language-plaintext highlighter-rouge">checkstyle</code> 플러그인을 추가했었습니다.<br />
Gradle 공식 문서에 의하면 다른 Gradle 플러그인과 다르게 <code class="language-plaintext highlighter-rouge">checkstyle</code> 플러그인을 추가할 때 버전도 명시하지 않아도 되고 짧은 플러그인 id를 사용할 수 있었던 이유는 <code class="language-plaintext highlighter-rouge">checkstyle</code>이 Gradle에서 제공하는 Core plugin 중 하나였기 때문이었습니다.</p>

<p>Gradle Core Plugin을 소개하는 <a href="https://docs.gradle.org/current/userguide/plugin_reference.html#plugin_reference">공식 문서(v8.13)</a>에서는 core plugin들을 다음과 같이 6개로 분류하고 있었습니다.</p>

<ul>
  <li>JVM languages and frameworks</li>
  <li>Native languages</li>
  <li>Packaging and distribution</li>
  <li>Code analysis</li>
  <li>IDE integration</li>
  <li>Utility</li>
</ul>

<p>이 중에서 checkstyle 플러그인은 Code analysis 분류에 속해있습니다.<br />
Code analysis에 속한 다른 플러그인으로는 PMD, JaCoCo 등이 있습니다.
PMD와 JaCoCo는 아직 프로젝트에 적용하지 못했지만 코드 품질을 위해 꼭 사용해보고 싶었었는데
이 두 가지도 Gradle에 기본으로 제공하는 플러그인이었다니 반가웠습니다.</p>

<h2 id="checkstyle-플러그인">checkstyle 플러그인</h2>

<p>checkstyle 플러그인에 대해서는 전에 코드 포맷팅 적용 포스팅을 할 때 한 번 정리한 적이 있습니다. <br />
checkstyle 플러그인 공식 문서의 내용이 간단한 편이어서 이 포스트에 모두 번역해보겠습니다.</p>

<blockquote>
  <p>checkstyle 플러그인 공식문서<br />
<a href="https://docs.gradle.org/current/userguide/checkstyle_plugin.html#checkstyle_plugin">https://docs.gradle.org/current/userguide/checkstyle_plugin.html#checkstyle_plugin</a></p>
</blockquote>

<hr />

<h4 id="사용-방법">사용 방법</h4>
<pre><code class="language-Gradle">// build.gradle.kts

plugins {
    checkstyle
}
</code></pre>

<h4 id="태스크">태스크</h4>
<ul>
  <li><code class="language-plaintext highlighter-rouge">checkstyleMain</code>
    <ul>
      <li><code class="language-plaintext highlighter-rouge">classes</code>에 의존함</li>
      <li>Java 소스 파일 대상</li>
    </ul>
  </li>
  <li><code class="language-plaintext highlighter-rouge">checkstyleTest</code>
    <ul>
      <li><code class="language-plaintext highlighter-rouge">testClasses</code>에 의존함</li>
      <li>테스트 Java 소스 파일 대상</li>
    </ul>
  </li>
  <li><code class="language-plaintext highlighter-rouge">checkstyleSourceSet</code>
    <ul>
      <li><code class="language-plaintext highlighter-rouge">sourceSetClasses</code></li>
      <li>Java 소스 파일의 소스들 대상</li>
    </ul>
  </li>
</ul>

<p>checkstyle 플러그인은 Java 플러그인에 의해 정의된 태스크 <code class="language-plaintext highlighter-rouge">check</code>가 checkstyle의 모든 태스크에 의존하게 만듭니다.</p>

<h3 id="프로젝트-레이아웃">프로젝트 레이아웃</h3>
<p>checkstyle 플러그인은 기본적으로 루트 프로젝트에 설정 파일이 있기를 기대합니다. 하지만 이는 추가 설정을 통해 변경할 수 있습니다.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;root&gt;
└── config
    └── checkstyle           
        └── checkstyle.xml   
        └── suppressions.xml
</code></pre></div></div>

<h3 id="의존성-관리">의존성 관리</h3>
<p>checkstyle 설정은 기본적으로 <code class="language-plaintext highlighter-rouge">com.puppycrawl.tools:checkstyle</code>을 이용합니다. 
사용되는 <code class="language-plaintext highlighter-rouge">com.puppycrawl.tools:checkstyle</code> 버전은 extension의 tool version에서 가져옵니다.</p>

<pre><code class="language-Gradle">checkstyle {
    toolVersion = "10.12.4"
}
</code></pre>

<p>만약 다른 의존성이 추가되면 기본 의존성 <code class="language-plaintext highlighter-rouge">com.puppycrawl.tools:checkstyle</code>은 제거됩니다.</p>

<pre><code class="language-Gradle">checkstyle {
    toolVersion = "10.12.4"
}

dependencies {
    checkstyle "group:artifact:version"
}
</code></pre>

<p>기본 의존성인 <code class="language-plaintext highlighter-rouge">com.puppycrawl.tools:checkstyle</code>을 유지하면서 checkstyle 설정에 의존성을 추가하고 싶다면 다음과 같이 두 의존성 모두를 명시해주면 됩니다.</p>

<pre><code class="language-Gradle">checkstyle {
    toolVersion = "10.12.4"
}

dependencies {
    checkstyle "com.puppycrawl.tools:checkstyle:${checkstyle.toolVersion}"
    checkstyle "group:artifact:version"
}
</code></pre>

<h3 id="설정">설정</h3>
<p>Gradle 빌드 스크립트에서 사용할 수 있는 Checkstyle Extension은 여기[https://docs.gradle.org/current/dsl/org.gradle.api.plugins.quality.CheckstyleExtension.html]에서 확인할 수 있습니다.</p>

<blockquote>
  <p>설정 예시</p>
</blockquote>

<h4 id="내장-변수">내장 변수</h4>
<p>checkstyle 플러그인은 <code class="language-plaintext highlighter-rouge">config_loc</code>이라는 속성을 정의합니다. 이 변수는 checkstyle 설정 파일에서 <code class="language-plaintext highlighter-rouge">suppression.xml</code>과 같이 다른 설정 파일의 경로를 정의할 때 사용될 수 있습니다.</p>

<h2 id="jacoco-플러그인">JaCoCo 플러그인</h2>

<p>JaCoCo 플러그인은 JaCoCo와의 연동을 통해 Java Code에 대한 코드 커버리지 지표를 제공합니다.</p>

<h3 id="시작하기">시작하기</h3>

<p>JaCoCo 플러그인 추가하기</p>
<pre><code class="language-Gradle">plugins {
    jacoco
}
</code></pre>

  </div>
</article>

<hr>

<p><a href="/">← 돌아가기</a></p>

<script src="/assets/js/toc-toggle.js"></script>


      <button id="topBtn" title="Go to top">↑ Top</button>
      <footer class="site-footer">
        <p>&copy; 2025 Socketing Reactoring Dev Log. Powered by <a href="https://jekyllrb.com" target="_blank">Jekyll</a>.</p>
      </footer>
    </main>
    <script src="/assets/js/top-button.js"></script>
  </body>
</html>
